@page "/projects"

<div class="projects-page">
    <!-- Hero Section -->
    <section class="projects-hero">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        
        <div class="projects-hero-content">
            <h1 class="page-hero-title">My Projects</h1>
            <p class="page-hero-subtitle">Exploring game development, XR, and software engineering</p>
        </div>
        
        <div class="wave-container">
            <div class="wave">
                <svg class="wave-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                    <path d="M0,50 C150,80 350,0 600,50 C850,100 1050,30 1200,50 L1200,120 L0,120 Z" 
                          fill="var(--bg-primary)" opacity="0.7">
                        <animate attributeName="d" 
                                 dur="10s" 
                                 repeatCount="indefinite"
                                 values="M0,50 C150,80 350,0 600,50 C850,100 1050,30 1200,50 L1200,120 L0,120 Z;
                                         M0,50 C150,20 350,100 600,50 C850,0 1050,80 1200,50 L1200,120 L0,120 Z;
                                         M0,50 C150,80 350,0 600,50 C850,100 1050,30 1200,50 L1200,120 L0,120 Z"/>
                    </path>
                </svg>
            </div>
        </div>
    </section>

    <!-- Projects Grid -->
    <section class="projects-section">
        <div class="container">
            @foreach (var (project, index) in projects.Select((p, i) => (p, i)))
            {
                <section class="project-card-large" style="animation-delay: @(index * 0.15)s" id="@Index.TaggifyString(@project.Title)-section">
                    
                    <!-- Main Project Image -->
                    @if (!string.IsNullOrEmpty(project.ImageUrl))
                    {
                        <div class="project-image-container" @onclick="() => OpenModal(project.ImageUrl, project.Title)">
                            <img src="@project.ImageUrl" alt="@project.Title" class="project-image" />
                            <div class="image-overlay">
                                <div class="zoom-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <circle cx="11" cy="11" r="8"/>
                                        <line x1="21" x2="16.65" y1="21" y2="16.65"/>
                                        <line x1="11" x2="11" y1="8" y2="14"/>
                                        <line x1="8" x2="14" y1="11" y2="11"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    }
                    
                    <!-- Project Content -->
                    <div class="project-content">
                        <!-- Title and Date -->
                        <div class="project-header">
                            <h3 class="project-title">@project.Title</h3>
                            <span class="project-date">@project.Date</span>
                        </div>
                        
                        <!-- Description -->
                        <p class="project-description">@project.Description</p>
                        
                        <!-- Image Gallery -->
                        @if (project.GalleryItems != null && project.GalleryItems.Count > 0)
                        {
                            <div class="image-gallery">
                                @foreach (var item in project.GalleryItems)
                                {
                                    <div class="gallery-item" @onclick="() => OpenModal(item.Url, item.Description, item.Type)">
                                        @if (item.Type == "image")
                                        {
                                            <img src="@item.Url" alt="@project.Title screenshot" class="gallery-image" />
                                        }
                                        else if (item.Type == "video")
                                        {
                                            <video class="gallery-video" muted loop>
                                                <source src="@item.Url" type="video/mp4" />
                                                Your browser does not support the video tag.
                                            </video>
                                            <div class="video-play-indicator">▶</div>
                                        }

                                        <div class="gallery-overlay">
                                            <div class="gallery-zoom-icon">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                    <circle cx="11" cy="11" r="8"/>
                                                    <line x1="21" x2="16.65" y1="21" y2="16.65"/>
                                                    <line x1="11" x2="11" y1="8" y2="14"/>
                                                    <line x1="8" x2="14" y1="11" y2="11"/>
                                                </svg>
                                            </div>
                                        </div>
                                    </div>
                                }
                            </div>
                        }

                        <!-- Highlights -->
                        @if (project.Highlights != null && project.Highlights.Count > 0)
                        {
                            <div class="project-highlights">
                                <h4 class="highlights-title">Key Highlights</h4>
                                <ul class="highlights-list">
                                    @foreach (var highlight in project.Highlights)
                                    {
                                        <li>@highlight</li>
                                    }
                                </ul>
                            </div>
                        }
                        
                        <!-- Technology Tags -->
                        <div class="project-tags">
                            @foreach (var tech in project.Technologies)
                            {
                                <span class="tech-tag">@tech</span>
                            }
                        </div>
                        
                        <!-- GitHub Link -->
                        @if (!string.IsNullOrEmpty(project.Link))
                        {
                            <a href="@project.Link" target="_blank" rel="noopener noreferrer" class="project-link">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
                                    <path d="M9 18c-4.51 2-5-2-7-2"/>
                                </svg>
                                <span>View on GitHub</span>
                                <span>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-right-icon lucide-arrow-right"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                                </span>
                            </a>
                        }
                    </div>
                </section>
            }
        </div>
    </section>
</div>

<!-- IMAGE/VIDEO MODAL -->
@if (showModal)
{
    <div class="modal-overlay" @onclick="CloseModal">
        <div class="modal-content" @onclick:stopPropagation="true">
            <!-- Close Button -->
            <button class="modal-close" @onclick="CloseModal">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 6 6 18"/>
                    <path d="m6 6 12 12"/>
                </svg>
            </button>
            
            <!-- Media Content -->
            @if (modalMediaType == "image")
            {
                <img src="@modalImageUrl" alt="Project screenshot" class="modal-image" />
            }
            else if (modalMediaType == "video")
            {
                <video controls autoplay loop class="modal-video">
                    <source src="@modalImageUrl" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
            }
            
            <!-- Description -->
            @if (!string.IsNullOrEmpty(modalImageDescription))
            {
                <p class="modal-description">@modalImageDescription</p>
            }
        </div>
    </div>
}

@code {
    // Project class
    public class Project
    {
        public string Title { get; set; } = "";
        public string Date { get; set; } = "";
        public string Description { get; set; } = "";
        public List<string> Technologies { get; set; } = new();
        public List<string> Highlights { get; set; } = new();
        public string Link { get; set; } = "";
        public string ImageUrl { get; set; } = "";
        public List<GalleryMedia> GalleryItems { get; set; } = new();
    }

    public class GalleryMedia
    {
        public string Url { get; set; } = "";
        public string Description { get; set; } = "";
        public string Type { get; set; } = "image"; // "image" or "video"
    }

    // Modal state
    private bool showModal = false;
    private string modalImageUrl = "";
    private string modalImageDescription = "";
    private string modalMediaType = "image";

    private void OpenModal(string url, string description, string type = "image")
    {
        modalImageUrl = url;
        modalImageDescription = description;
        modalMediaType = type;
        showModal = true;
    }

    private void CloseModal()
    {
        showModal = false;
    }

    // Projects list
    public List<Project> projects = new()
    {
        new Project
        {
            Title = "Silly Games with Friends",
            Date = "SUMMER 2025",
            Description = "Over Summer of 2025, I worked on a personal passion project I called Silly Games with Friends. Originally, this project started out as a way for me to introduce myself into the world of Networking, then grew in scale as I began investing more and more time into the project. I was able to create a working product in about 2 months. I stopped working on the project around September 2025 to pursue other game development opportunities and ideas to lead me towards professional development.",
            Technologies = new List<string> { "C#", "Godot Engine", "Networking", "Multiplayer", "State Management" },
            Highlights = new List<string>
            {
                "Custom networking for player synchronization",
                "Client/server communication and latency handling",
                "Gained experience with online networking concepts"
            },
            Link = "https://github.com/Soundwave5530/Silly-Games-with-Friends",
            ImageUrl = "images/projects/sgwf/Tag.png",
            GalleryItems = new List<GalleryMedia>
            {
                new GalleryMedia { Url = "images/projects/sgwf/swimming.png", Description = "Many combinations of 'goober' to become", Type = "image" },
                new GalleryMedia { Url = "videos/Voting_2.mp4", Description = "Game Voting sequence with UI synchronization", Type = "video" },
                new GalleryMedia { Url = "images/projects/sgwf/sgwf-ui-example.png", Description = "Custom UI design and menu system", Type = "image" }
            }
        },
        new Project
        {
            Title = "XR Research",
            Date = "SUMMER 2025",
            Description = "Conducted independent research on VR/MR development in Godot (C#), focusing on input handling and environment interaction. Explored XR usability and design principles, working with Meta Quest 3 to understand the XR industry and latest innovations.",
            Technologies = new List<string> { "C#", "Godot Engine", "VR/MR", "XR Development", "Meta Quest 3" },
            Highlights = new List<string>
            {
                "Explored XR usability and design principles",
                "Navigating XR development environments",
                "Input handling and environment interaction in VR"
            },
            Link = "",
            ImageUrl = "images/projects/xr-research/xr-research.png"
        },
        new Project
        {
            Title = "Code Quest 2025",
            Date = "SPRING 2025",
            Description = "Competed in Lockheed Martin's Code Quest 2025, solving algorithmic challenges under time constraints with a 3-member team. Two-hour competition where teams competed to complete the most coding problems within the time limit.",
            Technologies = new List<string> { "Python", "Algorithms", "Team Collaboration", "Problem Solving", "Competitive" },
            Highlights = new List<string>
            {
                "Collaborated with 3-member team under pressure",
                "Solved algorithmic challenges with time constraints",
                "Learned to work collaboratively while under pressure"
            },
            Link = "",
            ImageUrl = "images/projects/code-quest/code-quest-logo.png"
        },
        new Project
        {
            Title = "Character Crib",
            Date = "SCHOOL PROJECT",
            Description = "Developed a home for a character from a book. Created floor plan schematics, a 3D model of the entire house, and a physical model. Presented the finalized project to the class with full details.",
            Technologies = new List<string> { "3D Modeling", "CAD", "Presentation Skills", "Project Planning" },
            Highlights = new List<string>
            {
                "Created detailed floor plan schematics",
                "Built complete 3D model and physical prototype",
                "Presented project with full technical details to class"
            },
            Link = "",
            ImageUrl = "images/character-crib.png"
        }
    };
}

<style>
    .projects-page {
        margin-top: 80px;
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* Hero Section */
    .projects-hero {
        position: relative;
        min-height: 50vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--bg-secondary);
        overflow: hidden;
    }

    .projects-hero-content {
        position: relative;
        z-index: 10;
        text-align: center;
        padding: 80px 20px 120px;
    }

    .page-hero-title {
        font-size: 64px;
        font-weight: 900;
        background: linear-gradient(135deg, var(--text-primary), var(--blue-dark), var(--blue));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 20px;
        letter-spacing: -2px;
        animation: slideInLeft 0.8s ease-out;
    }

    .page-hero-subtitle {
        font-size: 24px;
        color: var(--text-secondary);
        font-weight: 500;
        animation: slideInRight 0.8s ease-out;
    }

    /* Projects Section */
    .projects-section {
        padding: 100px 20px;
        background: var(--bg-primary);
    }

    .project-card-large {
        background: var(--bg-secondary);
        border-radius: 24px;
        overflow: hidden;
        border: 2px solid var(--border-color);
        margin-bottom: 60px;
        transition: all 0.4s ease;
        animation: fadeInUp 0.6s ease-out both;
    }

    .project-card-large:hover {
        transform: translateY(-10px);
        border-color: var(--blue);
        box-shadow: 0 30px 80px var(--shadow-color);
    }

    /* Project Image */
    .project-image-container {
        position: relative;
        width: 100%;
        height: 400px;
        overflow: hidden;
        background: var(--bg-tertiary);
        cursor: pointer;
    }

    .project-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .project-card-large:hover .project-image {
        transform: scale(1.05);
    }

    .image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
        opacity: 0.7;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.3s ease;
    }

    .project-image-container:hover .image-overlay {
        opacity: 0.9;
    }

    .zoom-icon {
        opacity: 0;
        transform: scale(0.5);
        color: white;
        transition: all 0.3s ease;
        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
    }

    .project-image-container:hover .zoom-icon {
        opacity: 1;
        transform: scale(1);
    }

    /* Project Content */
    .project-content {
        padding: 40px;
    }

    .project-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }

    .project-title {
        font-size: 32px;
        font-weight: 900;
        color: var(--text-primary);
        margin: 0;
        flex: 1;
    }

    .project-date {
        font-size: 14px;
        color: var(--text-muted);
        background: var(--bg-tertiary);
        padding: 8px 16px;
        border-radius: 20px;
        font-weight: 600;
        white-space: nowrap;
    }

    .project-description {
        color: var(--text-secondary);
        line-height: 1.8;
        margin-bottom: 30px;
        font-size: 16px;
    }

    /* Image Gallery */
    .image-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 16px;
        margin: 30px 0;
    }

    .gallery-item {
        position: relative;
        height: 200px;
        border-radius: 12px;
        overflow: hidden;
        cursor: pointer;
        border: 2px solid var(--border-color);
        transition: all 0.3s ease;
    }

    .gallery-item:hover {
        border-color: var(--blue);
        transform: scale(1.02);
    }

    .gallery-image, .gallery-video {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
    }

    .gallery-item:hover .gallery-image,
    .gallery-item:hover .gallery-video {
        transform: scale(1.1);
    }

    .video-play-indicator {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 48px;
        color: white;
        opacity: 0.8;
        pointer-events: none;
        text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    .gallery-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.4);
        opacity: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: opacity 0.3s ease;
    }

    .gallery-item:hover .gallery-overlay {
        opacity: 1;
    }

    .gallery-zoom-icon {
        color: white;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.5));
    }

    /* Highlights */
    .project-highlights {
        margin: 30px 0;
        padding: 25px;
        background: var(--bg-tertiary);
        border-radius: 16px;
        border-left: 4px solid var(--blue);
    }

    .highlights-title {
        font-size: 18px;
        font-weight: 700;
        color: var(--blue);
        margin-bottom: 15px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .highlights-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .highlights-list li {
        color: var(--text-secondary);
        padding-left: 25px;
        margin-bottom: 10px;
        position: relative;
        line-height: 1.6;
    }

    .highlights-list li::before {
        content: "▸";
        position: absolute;
        left: 0;
        color: var(--blue);
        font-weight: bold;
        font-size: 18px;
    }

    /* Technology Tags */
    .project-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin: 30px 0;
    }

    .tech-tag {
        padding: 10px 18px;
        background: var(--bg-tertiary);
        border-radius: 20px;
        font-size: 14px;
        font-weight: 600;
        color: var(--text-primary);
        transition: all 0.2s ease;
        border: 1px solid var(--border-color);
    }

    .tech-tag:hover {
        background: var(--blue);
        color: white;
        transform: translateY(-2px);
        border-color: var(--blue);
    }

    /* GitHub Link */
    .project-link {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 14px 28px;
        background: linear-gradient(135deg, var(--blue-dark), var(--blue));
        color: white;
        text-decoration: none;
        border-radius: 12px;
        font-weight: 700;
        font-size: 15px;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
    }

    .project-link:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
    }

    .project-link .arrow {
        transition: transform 0.3s ease;
    }

    .project-link:hover .arrow {
        transform: translateX(5px);
    }

    /* Modal */
    .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.95);
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        animation: fadeIn 0.3s ease-out;
    }

    .modal-content {
        position: relative;
        max-width: 90vw;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: zoomIn 0.3s ease-out;
    }

    .modal-close {
        position: absolute;
        top: -50px;
        right: 0;
        background: var(--blue);
        color: white;
        border: none;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
    }

    .modal-close:hover {
        background: var(--blue-dark);
        transform: scale(1.1);
    }

    .modal-image, .modal-video {
        max-width: 100%;
        max-height: 70vh;
        object-fit: contain;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }

    .modal-description {
        margin-top: 20px;
        color: white;
        font-size: 16px;
        text-align: center;
        max-width: 600px;
        line-height: 1.6;
        padding: 16px 24px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        backdrop-filter: blur(10px);
    }


</style>
